# IO Cable - 20-Pin Twisted Pair Interconnect
# A generic IO cable using JST XAD 20-position connectors with 10 twisted pairs.
#
# NOTES:
# - Pin arrangement on XADRP-20V: Odd pins (1,3,5...) on TOP row, even pins (2,4,6...) on BOTTOM row
# - Twisted pairs MUST be connected to adjacent pin numbers (1-2, 3-4, 5-6, etc.)
# - This ensures proper differential signaling and EMI rejection
# - Cable length tolerance: 150mm +/- 25mm

metadata:
  id: IO-CABLE-20P
  title: "20-Pin IO Cable - Twisted Pair"
  revision: "A"
  date: "2026-01-17"
  company: "Whatever Together"
  client: "Acme"
  project: "Generic IO"
  description: |
    General-purpose 20-pin IO cable using pre-sheathed 10-pair twisted pair cable.
    Suitable for mixed differential signals and power distribution.
  custom_fields:
    length_tolerance: "+/- 25mm"
    cable_type: "Pre-sheathed 10-pair twisted pair"

# =============================================================================
# PARTS LIBRARY
# =============================================================================
parts:
  # ---------------------------------------------------------------------------
  # Connectors
  # ---------------------------------------------------------------------------
  JST-XADRP-20V:
    primary_pn: "XADRP-20V"
    manufacturer: "JST"
    mpn: "XADRP-20V"
    description: "XAD Series 20-position receptacle housing, 2.5mm pitch, dual row"
    alternates:
      - manufacturer: "Shenzhen Gangpu Electronics"
        mpn: "GT-A2508HM-220W01"
        vendor_sku: "LCSC C42419218"
        url: "https://www.lcsc.com/product-detail/C42419218.html"
    fields:
      digikey_pn: "455-2168-ND"
      lcsc_pn: "C565401"
      supplier_order_number: "Digikey 455-2168-ND"
      pitch: "2.5mm"
      rows: "2"
      mounting: "Wire-to-board"
      pin_arrangement: "Odd pins on TOP row, even pins on BOTTOM row"

  # ---------------------------------------------------------------------------
  # Crimp Contacts
  # JST SXA-001T-P0.6 is the standard contact for XAD series, 28-30 AWG
  # ---------------------------------------------------------------------------
  JST-SXA-001T-P0.6:
    primary_pn: "SXA-001T-P0.6"
    manufacturer: "JST"
    mpn: "SXA-001T-P0.6"
    description: "XAD Series crimp contact, tin plated, 28-30 AWG"
    fields:
      digikey_pn: "455-1561-1-ND"
      lcsc_pn: "C265094"
      supplier_order_number: "LCSC C265094"
      wire_gauge: "28-30 AWG"
      plating: "Tin"

  # ---------------------------------------------------------------------------
  # Cable
  # 10-pair twisted pair, 28 AWG, pre-sheathed
  # ---------------------------------------------------------------------------
  CABLE-10PR-28AWG:
    primary_pn: "CABLE-10PR-28AWG"
    manufacturer: "Generic"
    mpn: "10PR-28AWG-TP"
    description: "10-pair twisted pair cable, 28 AWG, PVC jacket, unshielded"
    fields:
      wire_gauge: "28 AWG"
      pair_count: "10"
      jacket: "PVC"
      shielding: "None"
      twist_pitch: "~25mm per twist"
      notes: "Pre-sheathed cable, pairs already twisted at factory"

  # ---------------------------------------------------------------------------
  # Heatshrink
  # ---------------------------------------------------------------------------
  HEATSHRINK-6MM:
    primary_pn: "HS-3-1-6MM-BLK"
    manufacturer: "Generic"
    mpn: "HST-6MM-3:1-BLK"
    description: "Heat shrink tubing, 6mm ID, 3:1 ratio, black"
    fields:
      inner_diameter: "6mm"
      shrink_ratio: "3:1"
      color: "Black"
      material: "Polyolefin"

# =============================================================================
# CONNECTORS
# =============================================================================
connectors:
  J1:
    part: JST-XADRP-20V
    pincount: 20
    # Pin labels showing signal assignments
    # Odd pins (1,3,5,7,9,11,13,15,17,19) are on TOP row
    # Even pins (2,4,6,8,10,12,14,16,18,20) are on BOTTOM row
    pinlabels:
      - "DIFF_A+"      # Pin 1  - TOP ROW    | Pair 1 (differential)
      - "DIFF_A-"      # Pin 2  - BOTTOM ROW | Pair 1 (differential)
      - "DIFF_B+"      # Pin 3  - TOP ROW    | Pair 2 (differential)
      - "DIFF_B-"      # Pin 4  - BOTTOM ROW | Pair 2 (differential)
      - "DIFF_C+"      # Pin 5  - TOP ROW    | Pair 3 (differential)
      - "DIFF_C-"      # Pin 6  - BOTTOM ROW | Pair 3 (differential)
      - "DIFF_D+"      # Pin 7  - TOP ROW    | Pair 4 (differential)
      - "DIFF_D-"      # Pin 8  - BOTTOM ROW | Pair 4 (differential)
      - "GPIO_1"       # Pin 9  - TOP ROW    | Pair 5 (single-ended)
      - "GPIO_2"       # Pin 10 - BOTTOM ROW | Pair 5 (single-ended)
      - "GPIO_3"       # Pin 11 - TOP ROW    | Pair 6 (single-ended)
      - "GPIO_4"       # Pin 12 - BOTTOM ROW | Pair 6 (single-ended)
      - "SPI_CLK"      # Pin 13 - TOP ROW    | Pair 7 (single-ended)
      - "SPI_MOSI"     # Pin 14 - BOTTOM ROW | Pair 7 (single-ended)
      - "SPI_MISO"     # Pin 15 - TOP ROW    | Pair 8 (single-ended)
      - "SPI_CS"       # Pin 16 - BOTTOM ROW | Pair 8 (single-ended)
      - "+5V"          # Pin 17 - TOP ROW    | Pair 9 (power)
      - "GND"          # Pin 18 - BOTTOM ROW | Pair 9 (power/ground)
      - "+3V3"         # Pin 19 - TOP ROW    | Pair 10 (power)
      - "GND"          # Pin 20 - BOTTOM ROW | Pair 10 (power/ground)
    pins:
      - {number: 1,  label: "DIFF_A+",  signal: "Differential Pair A, positive"}
      - {number: 2,  label: "DIFF_A-",  signal: "Differential Pair A, negative"}
      - {number: 3,  label: "DIFF_B+",  signal: "Differential Pair B, positive"}
      - {number: 4,  label: "DIFF_B-",  signal: "Differential Pair B, negative"}
      - {number: 5,  label: "DIFF_C+",  signal: "Differential Pair C, positive"}
      - {number: 6,  label: "DIFF_C-",  signal: "Differential Pair C, negative"}
      - {number: 7,  label: "DIFF_D+",  signal: "Differential Pair D, positive"}
      - {number: 8,  label: "DIFF_D-",  signal: "Differential Pair D, negative"}
      - {number: 9,  label: "GPIO_1",   signal: "General Purpose IO 1"}
      - {number: 10, label: "GPIO_2",   signal: "General Purpose IO 2"}
      - {number: 11, label: "GPIO_3",   signal: "General Purpose IO 3"}
      - {number: 12, label: "GPIO_4",   signal: "General Purpose IO 4"}
      - {number: 13, label: "SPI_CLK",  signal: "SPI Clock"}
      - {number: 14, label: "SPI_MOSI", signal: "SPI Master Out Slave In"}
      - {number: 15, label: "SPI_MISO", signal: "SPI Master In Slave Out"}
      - {number: 16, label: "SPI_CS",   signal: "SPI Chip Select"}
      - {number: 17, label: "+5V",      signal: "5V Power Supply"}
      - {number: 18, label: "GND",      signal: "Ground (5V return)"}
      - {number: 19, label: "+3V3",     signal: "3.3V Power Supply"}
      - {number: 20, label: "GND",      signal: "Ground (3.3V return)"}
    additional_components:
      - type: contact
        part: JST-SXA-001T-P0.6
        quantity: 20

  J2:
    part: JST-XADRP-20V
    pincount: 20
    # Mirror of J1 - same pinout for 1:1 cable
    pinlabels:
      - "DIFF_A+"
      - "DIFF_A-"
      - "DIFF_B+"
      - "DIFF_B-"
      - "DIFF_C+"
      - "DIFF_C-"
      - "DIFF_D+"
      - "DIFF_D-"
      - "GPIO_1"
      - "GPIO_2"
      - "GPIO_3"
      - "GPIO_4"
      - "SPI_CLK"
      - "SPI_MOSI"
      - "SPI_MISO"
      - "SPI_CS"
      - "+5V"
      - "GND"
      - "+3V3"
      - "GND"
    additional_components:
      - type: contact
        part: JST-SXA-001T-P0.6
        quantity: 20

# =============================================================================
# CABLES
# =============================================================================
cables:
  W1:
    part: CABLE-10PR-28AWG
    wirecount: 20
    gauge: "28 AWG"
    length: "150 mm"
    shield: false
    notes: |
      10-pair twisted pair cable. Pairs MUST be kept together on adjacent pins.
      Pair arrangement is critical for differential signal integrity.
      Do NOT separate twisted pair conductors across non-adjacent pins.

    # Core definitions - 10 twisted pairs
    # Color coding follows common convention: solid color + white stripe
    cores:
      # -------------------------------------------------------------------------
      # PAIR 1: Differential A (pins 1-2) - BLUE pair
      # -------------------------------------------------------------------------
      - index: 1
        color: "BU"
        label: "DIFF_A+"
        pair_group: 1
        twist_spec: "~25mm pitch"
      - index: 2
        color: "BU-WH"
        label: "DIFF_A-"
        pair_group: 1
        twist_spec: "~25mm pitch"

      # -------------------------------------------------------------------------
      # PAIR 2: Differential B (pins 3-4) - ORANGE pair
      # -------------------------------------------------------------------------
      - index: 3
        color: "OG"
        label: "DIFF_B+"
        pair_group: 2
        twist_spec: "~25mm pitch"
      - index: 4
        color: "OG-WH"
        label: "DIFF_B-"
        pair_group: 2
        twist_spec: "~25mm pitch"

      # -------------------------------------------------------------------------
      # PAIR 3: Differential C (pins 5-6) - GREEN pair
      # -------------------------------------------------------------------------
      - index: 5
        color: "GN"
        label: "DIFF_C+"
        pair_group: 3
        twist_spec: "~25mm pitch"
      - index: 6
        color: "GN-WH"
        label: "DIFF_C-"
        pair_group: 3
        twist_spec: "~25mm pitch"

      # -------------------------------------------------------------------------
      # PAIR 4: Differential D (pins 7-8) - BROWN pair
      # -------------------------------------------------------------------------
      - index: 7
        color: "BN"
        label: "DIFF_D+"
        pair_group: 4
        twist_spec: "~25mm pitch"
      - index: 8
        color: "BN-WH"
        label: "DIFF_D-"
        pair_group: 4
        twist_spec: "~25mm pitch"

      # -------------------------------------------------------------------------
      # PAIR 5: GPIO 1-2 (pins 9-10) - GREY pair
      # -------------------------------------------------------------------------
      - index: 9
        color: "GY"
        label: "GPIO_1"
        pair_group: 5
      - index: 10
        color: "GY-WH"
        label: "GPIO_2"
        pair_group: 5

      # -------------------------------------------------------------------------
      # PAIR 6: GPIO 3-4 (pins 11-12) - VIOLET pair
      # -------------------------------------------------------------------------
      - index: 11
        color: "VT"
        label: "GPIO_3"
        pair_group: 6
      - index: 12
        color: "VT-WH"
        label: "GPIO_4"
        pair_group: 6

      # -------------------------------------------------------------------------
      # PAIR 7: SPI CLK/MOSI (pins 13-14) - YELLOW pair
      # -------------------------------------------------------------------------
      - index: 13
        color: "YE"
        label: "SPI_CLK"
        pair_group: 7
      - index: 14
        color: "YE-WH"
        label: "SPI_MOSI"
        pair_group: 7

      # -------------------------------------------------------------------------
      # PAIR 8: SPI MISO/CS (pins 15-16) - PINK pair
      # -------------------------------------------------------------------------
      - index: 15
        color: "PK"
        label: "SPI_MISO"
        pair_group: 8
      - index: 16
        color: "PK-WH"
        label: "SPI_CS"
        pair_group: 8

      # -------------------------------------------------------------------------
      # PAIR 9: +5V / GND (pins 17-18) - RED pair (POWER)
      # -------------------------------------------------------------------------
      - index: 17
        color: "RD"
        label: "+5V"
        pair_group: 9
      - index: 18
        color: "BK"
        label: "GND"
        pair_group: 9

      # -------------------------------------------------------------------------
      # PAIR 10: +3V3 / GND (pins 19-20) - WHITE/BLACK pair (POWER)
      # -------------------------------------------------------------------------
      - index: 19
        color: "WH"
        label: "+3V3"
        pair_group: 10
      - index: 20
        color: "BK-WH"
        label: "GND"
        pair_group: 10

# =============================================================================
# CONNECTIONS
# Straight-through 1:1 connection with pair grouping highlighted
# =============================================================================
connections:
  # Pair 1: Differential A
  - {from_connector: J1, from_pin: 1,  cable: W1, core: 1,  to_connector: J2, to_pin: 1,  notes: "Diff pair 1+"}
  - {from_connector: J1, from_pin: 2,  cable: W1, core: 2,  to_connector: J2, to_pin: 2,  notes: "Diff pair 1-"}

  # Pair 2: Differential B
  - {from_connector: J1, from_pin: 3,  cable: W1, core: 3,  to_connector: J2, to_pin: 3,  notes: "Diff pair 2+"}
  - {from_connector: J1, from_pin: 4,  cable: W1, core: 4,  to_connector: J2, to_pin: 4,  notes: "Diff pair 2-"}

  # Pair 3: Differential C
  - {from_connector: J1, from_pin: 5,  cable: W1, core: 5,  to_connector: J2, to_pin: 5,  notes: "Diff pair 3+"}
  - {from_connector: J1, from_pin: 6,  cable: W1, core: 6,  to_connector: J2, to_pin: 6,  notes: "Diff pair 3-"}

  # Pair 4: Differential D
  - {from_connector: J1, from_pin: 7,  cable: W1, core: 7,  to_connector: J2, to_pin: 7,  notes: "Diff pair 4+"}
  - {from_connector: J1, from_pin: 8,  cable: W1, core: 8,  to_connector: J2, to_pin: 8,  notes: "Diff pair 4-"}

  # Pair 5: GPIO 1-2
  - {from_connector: J1, from_pin: 9,  cable: W1, core: 9,  to_connector: J2, to_pin: 9,  notes: "GPIO pair"}
  - {from_connector: J1, from_pin: 10, cable: W1, core: 10, to_connector: J2, to_pin: 10, notes: "GPIO pair"}

  # Pair 6: GPIO 3-4
  - {from_connector: J1, from_pin: 11, cable: W1, core: 11, to_connector: J2, to_pin: 11, notes: "GPIO pair"}
  - {from_connector: J1, from_pin: 12, cable: W1, core: 12, to_connector: J2, to_pin: 12, notes: "GPIO pair"}

  # Pair 7: SPI CLK/MOSI
  - {from_connector: J1, from_pin: 13, cable: W1, core: 13, to_connector: J2, to_pin: 13, notes: "SPI pair"}
  - {from_connector: J1, from_pin: 14, cable: W1, core: 14, to_connector: J2, to_pin: 14, notes: "SPI pair"}

  # Pair 8: SPI MISO/CS
  - {from_connector: J1, from_pin: 15, cable: W1, core: 15, to_connector: J2, to_pin: 15, notes: "SPI pair"}
  - {from_connector: J1, from_pin: 16, cable: W1, core: 16, to_connector: J2, to_pin: 16, notes: "SPI pair"}

  # Pair 9: +5V / GND (Power pair)
  - {from_connector: J1, from_pin: 17, cable: W1, core: 17, to_connector: J2, to_pin: 17, notes: "Power: +5V"}
  - {from_connector: J1, from_pin: 18, cable: W1, core: 18, to_connector: J2, to_pin: 18, notes: "Power: GND"}

  # Pair 10: +3V3 / GND (Power pair)
  - {from_connector: J1, from_pin: 19, cable: W1, core: 19, to_connector: J2, to_pin: 19, notes: "Power: +3V3"}
  - {from_connector: J1, from_pin: 20, cable: W1, core: 20, to_connector: J2, to_pin: 20, notes: "Power: GND"}

# =============================================================================
# ACCESSORIES
# =============================================================================
accessories:
  HS1:
    type: heatshrink
    part: HEATSHRINK-6MM
    quantity: "15 mm"
    location: "J1 cable exit"
    notes: "Prevents cable fraying at breakout point"

  HS2:
    type: heatshrink
    part: HEATSHRINK-6MM
    quantity: "15 mm"
    location: "J2 cable exit"
    notes: "Prevents cable fraying at breakout point"

# =============================================================================
# NOTES FOR ASSEMBLY
# =============================================================================
#
# CRITICAL ASSEMBLY NOTES:
#
# 1. PIN ARRANGEMENT (XADRP-20V):
#    Looking at connector face (mating side):
#
#    TOP ROW:    [1]  [3]  [5]  [7]  [9]  [11] [13] [15] [17] [19]
#    BOTTOM ROW: [2]  [4]  [6]  [8]  [10] [12] [14] [16] [18] [20]
#
# 2. TWISTED PAIR INTEGRITY:
#    - Each twisted pair MUST connect to adjacent pins (1-2, 3-4, etc.)
#    - Do NOT route one wire of a pair to a different pin pair
#    - Maintain twist as close to connector as possible
#
# 3. DIFFERENTIAL SIGNALS (Pairs 1-4):
#    - These carry high-speed differential signals
#    - Pair integrity is CRITICAL for signal quality
#    - Positive signal always on ODD pin, negative on EVEN pin
#
# 4. POWER PAIRS (Pairs 9-10):
#    - Pair 9: +5V (pin 17) and GND (pin 18)
#    - Pair 10: +3V3 (pin 19) and GND (pin 20)
#    - Ground wires should be black or have black stripe
#
# 5. HEATSHRINK APPLICATION:
#    - Apply heatshrink where individual wires break out from cable jacket
#    - Shrink before crimping contacts to avoid heat damage
#    - Ensure heatshrink covers ~10mm of cable jacket for strain relief
